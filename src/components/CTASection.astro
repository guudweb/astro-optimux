---
import { ArrowRight } from 'lucide-astro';
import { getLocale, useTranslations, getLocalizedPath } from '../i18n/utils';

const locale = getLocale(Astro.url);
const t = useTranslations(locale);

interface Props {
  title?: string;
  subtitle?: string;
  buttonText?: string;
  buttonHref?: string;
}

const {
  title = t('cta.title'),
  subtitle = t('cta.subtitle'),
  buttonText = t('cta.button'),
  buttonHref = getLocalizedPath('/contact', locale)
} = Astro.props;
---

<section class="py-24 bg-gradient-to-r from-blue-700 via-blue-800 to-blue-900 text-white relative overflow-hidden">
  <!-- Pattern overlay -->
  <div class="absolute inset-0 opacity-10">
    <div class="absolute inset-0" style="background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMzLjMxNCAwIDYgMi42ODYgNiA2cy0yLjY4NiA2LTYgNi02LTIuNjg2LTYtNiAyLjY4Ni02IDYtNnoiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9nPjwvc3ZnPg==');"></div>
  </div>

  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10">
    <h2 class="text-4xl md:text-5xl font-bold mb-6" style="color: white;">{title}</h2>
    <p class="text-xl mb-10 text-blue-100 leading-relaxed">
      {subtitle}
    </p>
    <a
      href={buttonHref}
      class="inline-flex items-center gap-2 bg-white text-blue-900 hover:bg-blue-50 px-10 py-5 text-lg font-bold rounded-xl shadow-2xl hover:shadow-white/30 transition-all group"
    >
      {buttonText}
      <ArrowRight class="w-5 h-5 group-hover:translate-x-1 transition-transform" />
    </a>
  </div>
</section>
