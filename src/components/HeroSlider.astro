---
import { ArrowRight } from 'lucide-astro';

const slides = [
  {
    image: "/images/Integrated IT Solutions hero.jpeg",
    title: "Integrated IT Solutions",
    subtitle: "Radical simplicity is the answer."
  },
  {
    image: "/images/Quality Service & After-Sales Support hero.jpg",
    title: "Quality Service",
    subtitle: "Professional IT maintenance 24/7"
  },
  {
    image: "/images/IT Equipment Supply hero.webp",
    title: "IT Equipment Supply",
    subtitle: "Complete procurement services"
  }
];
---

<section class="relative min-h-[550px] lg:min-h-[650px] overflow-hidden">
  <!-- SVG Pattern Background - covers entire hero with brand blue -->
  <div class="absolute inset-0 bg-[#1c6cb1]">
    <div class="absolute inset-0">
      <svg class="w-full h-full" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice">
        <defs>
          <!-- Shield pattern inspired by Optimux logo -->
          <pattern id="shield-pattern" x="0" y="0" width="100" height="120" patternUnits="userSpaceOnUse">
            <path d="M50 8 L88 22 L88 52 Q88 82 50 96 Q12 82 12 52 L12 22 Z"
                  fill="none" stroke="#ffffff" stroke-width="1" opacity="0.1"/>
            <path d="M50 20 L72 30 L72 48 Q72 68 50 78 Q28 68 28 48 L28 30 Z"
                  fill="none" stroke="#5a9fd4" stroke-width="0.6" opacity="0.15"/>
          </pattern>
          <!-- Flowing curves pattern - inspired by logo inner curves -->
          <pattern id="curves-pattern" x="0" y="0" width="300" height="150" patternUnits="userSpaceOnUse">
            <path d="M0 75 Q 75 35, 150 75 T 300 75" fill="none" stroke="#ffffff" stroke-width="1" opacity="0.08"/>
            <path d="M0 100 Q 75 60, 150 100 T 300 100" fill="none" stroke="#5a9fd4" stroke-width="0.8" opacity="0.1"/>
            <path d="M0 50 Q 75 10, 150 50 T 300 50" fill="none" stroke="#ffffff" stroke-width="0.5" opacity="0.06"/>
          </pattern>
          <!-- Orbital ellipses - inspired by logo construction grid -->
          <pattern id="orbits-pattern" x="0" y="0" width="500" height="500" patternUnits="userSpaceOnUse">
            <ellipse cx="250" cy="250" rx="200" ry="80" fill="none" stroke="#ffffff" stroke-width="0.5" opacity="0.06" transform="rotate(-15 250 250)"/>
            <ellipse cx="250" cy="250" rx="160" ry="60" fill="none" stroke="#5a9fd4" stroke-width="0.4" opacity="0.08" transform="rotate(25 250 250)"/>
            <ellipse cx="250" cy="250" rx="120" ry="45" fill="none" stroke="#ffffff" stroke-width="0.3" opacity="0.04" transform="rotate(-40 250 250)"/>
          </pattern>
        </defs>
        <rect width="100%" height="100%" fill="url(#shield-pattern)"/>
        <rect width="100%" height="100%" fill="url(#curves-pattern)"/>
        <rect width="100%" height="100%" fill="url(#orbits-pattern)"/>
      </svg>
    </div>
  </div>

  <!-- Decorative gradient orbs -->
  <div class="absolute top-0 left-0 w-[500px] h-[500px] bg-[#155a94]/40 rounded-full blur-[120px] -translate-x-1/2 -translate-y-1/2"></div>
  <div class="absolute bottom-0 right-0 w-[400px] h-[400px] bg-[#5a9fd4]/25 rounded-full blur-[100px] translate-x-1/4 translate-y-1/4"></div>

  <!-- Main Content Grid -->
  <div class="relative z-10 h-full">
    <div class="grid grid-cols-1 lg:grid-cols-2 min-h-[550px] lg:min-h-[650px]">

      <!-- Left Side - Fixed Text Content (more centered) -->
      <div class="flex items-center justify-center px-4 sm:px-6 lg:px-12 xl:px-20 py-12 lg:py-0">
        <div class="max-w-lg text-center lg:text-left">
          <!-- Brand -->
          <div class="flex items-center gap-4 mb-8">
            <img src="/images/logo.jpeg" alt="Optimux" class="h-14 w-auto drop-shadow-lg" />
            <span class="text-2xl font-bold tracking-wide drop-shadow-lg" style="color: white;">
              OPTIMUX SOLUTIONS
            </span>
          </div>

          <!-- Main Title -->
          <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold mb-6 leading-tight" style="color: white;">
            Integrated IT
            <span class="block text-white/90">Solutions</span>
          </h1>

          <!-- Main Subtitle -->
          <p class="text-lg sm:text-xl mb-8 leading-relaxed" style="color: rgba(255,255,255,0.85);">
            How can businesses overcome the challenges of complex IT environments?
          </p>

          <!-- CTA Buttons -->
          <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
            <a
              href="/contact"
              class="group inline-flex items-center justify-center gap-2 bg-white hover:bg-white/90 text-[#1c6cb1] px-8 py-4 rounded-xl font-bold text-lg transition-all shadow-lg shadow-black/20 hover:shadow-xl"
            >
              Contact Us
              <ArrowRight class="w-5 h-5 transition-transform group-hover:translate-x-1" />
            </a>
            <a
              href="/services"
              class="inline-flex items-center justify-center gap-2 bg-white/15 hover:bg-white/25 backdrop-blur-sm border border-white/30 px-8 py-4 rounded-xl font-bold text-lg transition-all"
              style="color: white;"
            >
              Explore Services
            </a>
          </div>
        </div>
      </div>

      <!-- Right Side - Image Slider (full height, no card) -->
      <div class="relative">
        <!-- Images -->
        {slides.map((slide, index) => (
          <div
            class={`slide absolute inset-0 transition-all duration-700 ${index === 0 ? 'opacity-100' : 'opacity-0'}`}
            data-index={index}
          >
            <!-- Image -->
            <img
              src={slide.image}
              alt={slide.title}
              class="w-full h-full object-cover"
            />
            <!-- Gradient overlay for text readability -->
            <div class="absolute inset-0 bg-gradient-to-r from-[#1c6cb1] via-[#1c6cb1]/70 to-transparent lg:from-[#1c6cb1] lg:via-[#1c6cb1]/60 lg:to-[#1c6cb1]/30"></div>
            <div class="absolute inset-0 bg-gradient-to-t from-[#1c6cb1]/70 via-transparent to-transparent"></div>

            <!-- Slide Text (positioned on right side of image) -->
            <div class="absolute bottom-8 left-6 right-6 lg:bottom-12 lg:left-auto lg:right-12 lg:max-w-sm text-left">
              <h2 class="text-2xl lg:text-3xl font-bold mb-2" style="color: white;">
                {slide.title}
              </h2>
              <p class="text-base lg:text-lg" style="color: rgba(255,255,255,0.85);">
                {slide.subtitle}
              </p>
            </div>
          </div>
        ))}

      </div>
    </div>

    </div>
  </div>
</section>

<script>
  // Slide auto-rotation
  let currentSlide = 0;
  const slides = document.querySelectorAll('.slide');
  const totalSlides = slides.length;
  const SLIDE_DURATION = 5000;

  function goToSlide(index: number) {
    slides.forEach((slide, i) => {
      if (i === index) {
        slide.classList.remove('opacity-0');
        slide.classList.add('opacity-100');
      } else {
        slide.classList.remove('opacity-100');
        slide.classList.add('opacity-0');
      }
    });
    currentSlide = index;
  }

  function nextSlide() {
    goToSlide((currentSlide + 1) % totalSlides);
  }

  // Start slide auto-play
  setInterval(nextSlide, SLIDE_DURATION);
</script>
